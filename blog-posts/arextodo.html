<!DOCTYPE html>
<html>

<head>
    <title>Matthew Chan| Web Developer</title>
    <link rel="stylesheet" type="text/css" href="./stylesheets/blog_template.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Lora' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script type="text/javascript" src="./scripts/blog_template.js"></script>
</head>

<body>
    <header>
        <img src="./images/myself.jpg">
        <nav>
            <a class="font" href="../index.html">home</a> 
            <a class="font" href="../about.html">about</a>
            <a class="font" href="../blog_posts.html">blog</a>
            <a class="font" href="../projects.html">projects</a>
            <a class="font" href="../resources.html">resources</a>
            <a class="icon" href="http://www.github.com/matt16749"><i class="fa fa-github-square fa-2x"></i></a>
            <a class="icon" href="http://www.linkedin.com/in/matthewchan2000"><i class="fa fa-linkedin-square fa-2x"></i></a>
            <a class="icon" href="mailto:matt16749@gmail.com"><i class="fa fa-envelope-square fa-2x"></i></a>
        </nav>
    </header>

    <div class="titlename">AR Example: Todo</div>

    <section>
        <article>
          <h1>Todo List</h1>
            <p>My first exposure to the todo list challenge was during the time we at DBC had to practice ARGV in ruby(which was also the first time we learned how to use parameters on the console). But that was before we learned databases and Active Record. This is walkthrough on the workflow of solving todo using Active Record. We will be using the following folders:(Look at my previous post for more info on each folder)
            <img src="./images/artodofolders.png"></p>
          <h1>Workflow</h1>
            <p><strong>This workflow follows the standard set in my previous blog on workflows. We start with making the database, figuring out the tables and schemas, and then making the application.</strong></p>
            <p>In our file, we will need something that can link our ruby files to our database. This is <strong>Active Record</strong>. The actual connection itself for this project is stored in our config folder, under application.rb
            <img src="./images/todoconfig.png">
            The most important line in this file is found on line 26. This establishes the connection between ActiveRecord and the database. (Active record is an ORM bundled into a gem)</p>
          <h3>Step 0: Create source file</h3>
            <p>When I say source file, I mean the file that you will run to make your entire application run. This should be found within the source directory of your project. In our case, it is called todo.rb 
            <img src="./images/arextodo.png">
            All This file should do is run a command in our master controller(line 4). To do that, it needs access to the controller.(line 1)</p>
          <h3>Step 1: MVP and design schema</h3>
            <p>So I cheated. This is actually 2 steps bundled into 1. You need to design your database table schema based upon what you think you will need. But don't make it too complex, you should follow the MVP(minimum viable product.) You can always make more migrations to add columns to a table and join tables together.</p>
          <h3>Step 2: Make the migration file.</h3>
            <p>The migration file is how you will implement your table and schema into your database. It will require access to the database itself via Active Record.(line 1)
            <img src="./images/arexmigration.png">
            Naming convention of migration file should be snake_case lowercase while class should be CamelCase capitalized. The file here should be plural since we are creating a table full of tasks.</p>
            <p>Name of the class should reflect what you are doing to the database. In this case, we are creating a table Tasks.(line 3)</p>
          <h3>Optional: Seed your database table</h3>
            <p>Once you have a database with tables, you can seed your tables with initial data. 
            <img src="./images/arexmodel.png"></p>           
          <h2>All steps after deal with the application itself.(Inside the app directory)</h2>
          <h3>Step 3: Create corresponding model</h3>
            <p>After creating your migration file, make the corresponding model. Your migration file only deals with the database. You need to make something that deals with the ruby side.
            <img src="./images/model.png">
            The model should be of the same name as the table you are assigning it to, and singular. It will act as one object that you can pull out of the database table. Therefore, it will also need access to Active Record.(line 1, line 3 in inheriting AR)</p>
          <h3>Step 4: Make controller</h3>
            <p>Make your controller. This is the brains of your application. If you remember Step 0, this is what your are calling when you run your program. Make sure to require_relative your models since those are the things you are manipulating here. The example below isn't the best MVC example of a controller, because you should be creating a seperate View anytime you see a "puts" and require_relative the corresponding "puts".</p>
            <img src="./images/controller.png">
        </article>
    </section>

    <img id="cloud0" src="./images/cloud0.png">
    <img id="cloud1" src="./images/cloud1.png">
    <img id="cloud2" src="./images/cloud2.png">
</body>

</html>