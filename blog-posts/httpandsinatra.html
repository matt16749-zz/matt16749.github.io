<!DOCTYPE html>
<html>

<head>
    <title>Matthew Chan| Web Developer</title>
    <link rel="stylesheet" type="text/css" href="./stylesheets/blog_template.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Lora' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script type="text/javascript" src="./scripts/blog_template.js"></script>
</head>

<body>
    <header>
        <img src="./images/myself.jpg">
        <nav>
            <a class="font" href="../index.html">home</a> 
            <a class="font" href="../about.html">about</a>
            <a class="font" href="../blog_posts.html">blog</a>
            <a class="font" href="../projects.html">projects</a>
            <a class="font" href="../resources.html">resources</a>
            <a class="icon" href="http://www.github.com/matt16749"><i class="fa fa-github-square fa-2x"></i></a>
            <a class="icon" href="http://www.linkedin.com/in/matthewchan2000"><i class="fa fa-linkedin-square fa-2x"></i></a>
            <a class="icon" href="mailto:matt16749@gmail.com"><i class="fa fa-envelope-square fa-2x"></i></a>
        </nav>
    </header>

    <div class="titlename">HTTP & Sinatra</div>

    <section>
        <article>
            <h1>HTTP Requests</h1>
            <p>So far in Phase 1 of DBC I've been living on my computer. Nearly everything that I've created has been isolated from the web (with the exception of accessing gems.) Phase 2 will be different. Now we are starting to get our feet wet with the net.</p>
            <p>HTTP was originally designed as a way to enable communication between users and a server, and works as a <strong>request-response</strong> protocol between said user(URL request) and server(route). Two of the most often used HTTP methods are GET and POST.<strong>User requests always come in form of a URL. Your job is setting up the server routes to direct those URL requests.</strong></p>
            <h1>GET</h1>
            <p>The GET method requests/retrieves data from the server.</p>
            <h1>POST</h1>
            <p>The POST method submits data to be processed by the server.</p>
            <p>So how do we use these HTTP methods as a Rubyist? One way is by using a gem called 'Sinatra'</p>
            <h1>Sinatra</h1>
            <p>As Sinatra is a gem, you should first install it and then require the gem in your source file. (Require 'rubygems' to allow gems to work as well).</p>
            <h3>GET Route</h3>
            <p>To start us off, write out this in your source ruby file.</p>
            <img src="./images/get.png">
            <p>This is a <strong>route</strong>. We are telling our server that if a user requests(via GET) the <strong>root URL ('/')</strong>, then post this message. We can also do this:</p>
            <img src="./images/getabout.png">
            <p>Now we are saying that if a user requests(via GET) a '/about' URL, then post this message.</p>
            <h3>URL Parameters</h3>
            <p>We can also access the URL parameters in our message.</p>
            <img src="./images/getparams.png">
            <p>Our message will vary according to what our users put in as their URL (via GET). We can access these varying URL parameters(:name and :city) in our message by using string interpolation #{params[:URLparameter]} and method chain them.</p>
            <h3>POST Route</h3>
            <p>Now let's do something more interesting. Write this in your file:</p>
            <img src="./images/post1.png">
            <p>This is saying if a user requests(via GET) the URL '/form', load the <strong>form.erb file located in your views directory.(as requested on line 21)</strong> So you should create a views directory and a form.erb inside your views directory.</p>
            <p>Inside your form.erb file, write this:</p>
            <img src="./images/formerb.png">
            <p>If you took the time to check this out with a DOM, you would see that line 1 is you setting up another conditional route so that users can send data to be processed by the server. the form action ='/hello' is a redirect page where you can view your POST request. Line 2 is setting up a text box via type='text', and naming it 'message' so that you can set a GET request to the URL you defined on line 1(form action ="/form") and use the text that you saved as 'message'. Check out the image below.</p>
            <img src="./images/formpost.png">
            <p>So what we did was GET a form.erb view, setup a POST request that takes a 'message' to a corresponding URL, and then created the actual POST route to display 'message'</p>
            <h3>Error messages:</h3>
            <p>Error messages are known as 404. If you request a URL for which there isn't a route, you will get an error message. To customize these messages, use the following in your basics.rb route file.</p>
            <img src="./images/errorsinatra.png">
        </article>
    </section>

    <img id="cloud0" src="./images/cloud0.png">
    <img id="cloud1" src="./images/cloud1.png">
    <img id="cloud2" src="./images/cloud2.png">
</body>

</html>